@inject NavigationManager Nav


<MudAppBar Fixed=true Elevation="5" Style="height:120px; padding-top:30px;padding-bottom:30px;" ToolBarClass="h-100" Class="d-flex">
    @if (mainLayout?.DrawerOpen != true)
    {

    }
    @if (mainLayout != null)
    {


        <MudNavLink Style="max-width:max-content;" Class="pa-0" Href="/">
            <MudStack Row=true Class="ma-0 pa-0">

                <MudImage Class="app-icon shadow-lg" Src="/img/default_logo.png" Style="height:65px;" />
                <MudStack Spacing="0">
                    <MudText Typo=Typo.h4 Class="align-self-center shadow">Blazam</MudText>
                    <MudText Typo=Typo.caption Class="align-self-center shadow">Active Directory Manager</MudText>
                </MudStack>
            </MudStack>

        </MudNavLink>
        <MudSpacer />
        
      @*   <audio controls>
        <source src="podcast.wav"/>
            Your browser does not support the audio element.
        </audio>
        <MudSpacer /> *@

        <MudHidden Breakpoint="Breakpoint.MdAndUp" Invert=true>
            <MudStack AlignItems="AlignItems.End" Spacing="3">
                <MudStack AlignItems="AlignItems.End" Row=true>
                    <Badges/>                    
                </MudStack>
                
                <MudStack AlignItems="AlignItems.End" Style="display:block !important;" Row=true>
                    <MudButton Color=Color.Primary Size=Size.Large Href="/features" Style="max-width:max-content;" StartIcon="@Icons.Material.Filled.List">
                        @AppLocalization["Features"]
                    </MudButton>

                    <MudButton Color=Color.Primary Size=Size.Large Href="/demo" Style="max-width:max-content;" StartIcon="@Icons.Material.Filled.CarRental">
                        Demo
                    </MudButton>

                    <MudButton Color=Color.Primary Size=Size.Large Href="/download" Style="max-width:max-content;" StartIcon="@Icons.Material.Filled.Download">
                        Download
                    </MudButton>
                    <MudButton Color=Color.Primary Size=Size.Large Target="_blank" Href="https://docs.blazam.org/" Style="max-width:max-content;" StartIcon="@Icons.Material.Filled.Book">
                        @AppLocalization["Documentation"]
                    </MudButton>
                    <MudButton Color=Color.Primary Size=Size.Large Target="_blank" Href="/plugins" Style="max-width:max-content;" StartIcon="@Icons.Material.Filled.Book">
                        @AppLocalization["Plugins"]
                    </MudButton>
                    <MudButton Color=Color.Primary Size=Size.Large Href="/support" Style="max-width:max-content;" StartIcon="@Icons.Material.Filled.Support">
                        Support
                    </MudButton>
                    
                    <AuthorizeView Roles="@UserRoles.SuperAdmin">
                        <Authorized>
                            <MudButton Color=Color.Tertiary Size=Size.Large Href="/news" Style="max-width:max-content;" StartIcon="@Icons.Material.Filled.Newspaper">
                                Manage News
                            </MudButton>
                            <MudButton Color=Color.Primary Size=Size.Large Href="/logout" Style="max-width:max-content;" StartIcon="@Icons.Material.Filled.Login">
                                Logout
                            </MudButton>
                        </Authorized>
                        <NotAuthorized>
                            <MudButton Color=Color.Primary Size=Size.Large Href="/login" Style="max-width:max-content;" StartIcon="@Icons.Material.Filled.Login">
                                Login
                            </MudButton>
                        </NotAuthorized>
                        
                    </AuthorizeView>
                    

                </MudStack>
            </MudStack>

        </MudHidden>
        <MudHidden Breakpoint="Breakpoint.SmAndDown" Invert=true>
            <MudIconButton Icon="@Icons.Material.Filled.Menu"
                           Color="Color.Inherit"
                           Edge="Edge.Start"
                           OnClick="@((e) => {mainLayout.DrawerOpen=!mainLayout.DrawerOpen; })" />
        </MudHidden>

    }



</MudAppBar>


@code {

    [CascadingParameter]
    public MainLayout mainLayout { get; set; }
   

}